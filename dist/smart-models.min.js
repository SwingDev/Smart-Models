!function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var c=u.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,u=l=void 0}};e("./SmartModel");var u={},c=!1;t.exports=function(e){function t(e){if(n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!c)throw new Error("Calling constructors of Collections is forbidden, use "+this.constructor.name+".create instead");this.__collectionName=e;var r=localStorage.getItem(this.cacheKeyName);if(r){var o=JSON.parse(r),i=!0,u=!1,l=void 0;try{for(var f,s=o[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var y=f.value;this.push(this.type.create(y))}}catch(p){u=!0,l=p}finally{try{!i&&s["return"]&&s["return"]()}finally{if(u)throw l}}}}return o(t,e),i(t,[{key:"saveCache",value:function(){localStorage.setItem(this.constructor.getCacheKey(this.__collectionName),JSON.stringify(this.items))}},{key:"type",get:function(){return SmartModel}},{key:Symbol.isConcatSpreadable,get:function(){return!1}}],[{key:"getCacheKey",value:function(e){return[this.name,e].join("___")}},{key:"create",value:function(e){var t=this.getCacheKey(e);if(u[t])return u[t];c=!0;var r=new this(e);return c=!1,u[t]=r,r}}]),t}(Array)},{"./SmartModel":3}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var c=u.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,u=l=void 0}},u=e("./SmartModel"),c=e("./utils"),l=c.extend,f=c.copy,s=function(e){function t(){n(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"rollback",value:function(){l(this,this.__defaults)}},{key:"commit",value:function(){var e=this,t=this;Object.keys(this.__defaults).forEach(function(r){return e.__defaults[r]=t[r]})}},{key:"isPristine",value:function r(){var e=this,t=this,n=function(r){return e.__defaults[r]===t[r]},o=Object.keys(this.__defaults).map(n),r=o.reduce(function(e,t){return e&&t},!0);return r}},{key:"isDirty",value:function(){return!this.isPristine()}},{key:"rollbackValue",value:function(e){return this.__defaults[e]}}],[{key:"create",value:function(e){var r=a(Object.getPrototypeOf(t),"create",this).call(this,e);return Object.defineProperty(r,"__defaults",{enumerable:!1,configurable:!1,writable:!0,value:f(e)}),r}}]),t}(u);t.exports=s},{"./SmartModel":3,"./utils":5}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={},a=!1,u=e("./utils").extend,c=function(){function e(t){if(n(this,e),!a)throw new Error("Calling constructors on SmartModels is forbidden, use "+this.constructor.name+".create instead");return u(this,t),this}return o(e,null,[{key:"getCacheKey",value:function(){return this.name}},{key:"getKey",value:function(){return"id"}},{key:"create",value:function(e){if(!e[this.getKey()])throw new Error(this.getKey()+" field is required.");if(this.cache.has(e[this.getKey()])){var t=this.cache.get(e[this.getKey()]);return u(t,e),t}a=!0;var r=new this(e);return a=!1,this.cache.set(e[this.getKey()],r),r}},{key:"clearCache",value:function(){i={}}},{key:"cache",get:function(){var e=this.getCacheKey();return i[e]||(i[e]=new Map),i[e]}}]),e}();t.exports=c},{"./utils":5}],4:[function(e,t,r){"use strict";window.SmartModel=e("./SmartModel"),window.RollbackableSmartModel=e("./RollbackableSmartModel"),window.Collection=e("./Collection")},{"./Collection":1,"./RollbackableSmartModel":2,"./SmartModel":3}],5:[function(e,t,r){"use strict";function n(e){var t,r=e;if(e&&"object"==typeof e){r="[object Array]"===Object.prototype.toString.call(e)?[]:{};for(t in e)r[t]=n(e[t])}return r}t.exports={extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},copy:n}},{}]},{},[4]);